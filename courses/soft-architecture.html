<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Theoretical Principles of Software Architecture</title>

		<link rel="stylesheet" href="../css/slides-reset.css">
		<link rel="stylesheet" href="../css/slides.css">
		<link rel="stylesheet" href="../css/slides-theme.css" id="theme">
		<link rel="stylesheet" href="../css/slides-code.css" id="highlight-theme">

		<style>
			.reveal .slides section section {
				margin-top: 1.5em; /* margin for upper section title */
			}

			.reveal .slides .note {
				padding: 0.5em;
				font-size: 0.5em;
				color: peru;
				background-color: wheat;
			}

			.reveal .slides .note .highlight {
				color: brown;
			}

			.reveal .slides .aside {
				color: gray;
				font-size: 0.8em;
			}
			
			.reveal .slides table {
				font-size: 0.5em;
			}

			.reveal .slides figcaption {
				color: gray;
				font-size: 0.5em;
			}

			.reveal .slides figure img {
				max-height: 7em; /* FIXME should be a percent of total height */
			}

			.reveal .slides mark {
				background-color: moccasin;
			}

			.reveal .slides .def {
				padding: 1em;
				background-color: whitesmoke;
				border: 1px black solid;
			}
		</style>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<h1>Theoretical Principles of Software Architecture</h1>
					<p><a href="https://www.vcharpenay.link/">Victor Charpenay</a></p>
				</section>
				<section>
					<h4>Outline</h4>
					<section>
						<ol>
							<li>Introduction</li>
							<li>The Language of Architects</li>
							<li>Styles and Patterns</li>
							<li>The Example of REST</li>
							<li>Formal Architectural Analysis</li>
						</ol>
					</section>
				</section>
				<section>
					<h4>Introduction</h4>
					<section>
						<p>
							A public work analogy:
						</p>
						<p class="fragment">
							building a <mark>bridge</mark>
						</p>
					</section>
					<section>
						<p>
							What is the <mark>commonality</mark> between the following <mark>three bridges</mark>?
						</p>
					</section>
					<section>
						<figure>
							<img style="height: 5em;" src="../misc/soft-architecture/pont-cance.jpg">
							<img style="height: 5em;" src="../misc/soft-architecture/passerelle-seguin.jpg">
							<img style="height: 5em;" src="../misc/soft-architecture/akashi-bridge.jpg">
							<figcaption>
								A bridge in the <a href="https://fr.wikipedia.org/wiki/Cance_(rivi%C3%A8re)">Cance</a> valley;
								<a href="https://fr.wikipedia.org/wiki/Passerelle_Marc-Seguin"><span style="font-style: italic;">Passerelle Marc-Seguin</span></a>;
								<a href="https://en.wikipedia.org/wiki/Akashi_Kaikyo_Bridge">Akashi Kaikyo Bridge</a>
							</figcaption>
						</figure>
					</section>
					<section>
						<div>
							<img style="height: 3em;" src="../misc/soft-architecture/pont-cance.jpg">
							<img style="height: 3em;" src="../misc/soft-architecture/passerelle-seguin.jpg">
							<img style="height: 3em;" src="../misc/soft-architecture/akashi-bridge.jpg">
						</div>
						<p class="fragment">
							All three bridges are hung below <mark>suspension cables</mark>.
						</p>
					</section>
					<section>
						<p class="def">
							The <mark>architecture</mark> of [a building] is determined by 
							those aspects that are <mark>hardest to change</mark>.
						</p>
						<!-- p. 68 -->
					</section>
					<section>
						<p>
							The Akashi bridge was designed to resist earthquakes.
							Construction was completed after <mark>10 years</mark>.
						</p>
					</section>
					<section>
						<p>
							The Golden Gate bridge had to be <mark>retrofitted</mark> to resist seismic events.
							After <mark>20 years</mark>, the operation is still on-going.
						</p>
						<!-- https://www.goldengate.org/district/district-projects/seismic-retrofit/ (1997) -->
						<!-- https://sanfrancisco.cbslocal.com/2017/05/24/costly-golden-gate-bridge-retrofit-still-years-away-from-completion/ (2017) -->
					</section>
					<section>
						<p>
							Other example: the <mark>Millenium bridge</mark> had to be closed a few hours after it opened,
							for safety reasons.
						</p>
					</section>
					<section>
						<p>
							The bridge had a <mark>novel design</mark>, different from suspension cables.
						</p>
						<p class="fragment">
							Civil engineers had not anticipated that a resonance frequency of
							0.5Hz would make the bridge <mark>oscillate with increasing amplitude</mark>.
						</p>
					</section>
					<section>
						<figure>
							<img src="../misc/soft-architecture/millenium-bridge.png">
							<figcaption>
								Millenium bridge
								<a href="https://www.youtube.com/watch?v=t-_VPRCtiUg">(source: Veritasium)</a>
							</figcaption>
						</figure>
					</section>
					<section>
						<p class="def">
							Architecture is also determined by those aspects that are likely to make a system fail.
						</p>
						<p class="aside">
							(source: self)
						</p>
					</section>
					<section>
						<p class="note">
							Definitions come from the same book, unless specified:
							<a href="https://www.softwarearchitecturebook.com/">Software Architecture</a>
							by Taylor, Medvidovic and Dashofy (2010).
						</p>
					</section>
					<section>
						<p class="def">
							A software system's <em>architecture</em> is the set of principal design decisions made about the system.
						</p>
						<!-- p. 58 -->
					</section>
					<!-- <section>
						<p>
							Design decisions?

							Structure (composed of business modules, technical modules),
							functional behavior (functions in a pre-defined order),
							interaction (all using the same protocol),
							nonfunctional properties (RSE?),
							implementation (technological choice, e.g. Java just because...)
						</p>
					</section> -->
					<!-- p. 58 -->
					<section>
						<p>
							A software architecture is either <mark>prescriptive</mark> (or as-designed) or
							<mark>descriptive</mark> (as-implemented).
						</p>
					</section>
					<section>
						<figure>
							<img src="../misc/soft-architecture/datev-example.png">
							<figcaption>Example of technical debt in the DATEV information system</figcaption>
						</figure>
					</section>
					<section>
						<p>
							An architectural model is defined over different <mark>perspectives</mark>:
						</p>
						<ul>
							<li class="fragment">
								structure<br>
								<span class="aside">components and interaction dependencies</span>
							</li>
							<li class="fragment">
								functionality<br>
								<span class="aside">sequences of interactions</span>
							</li>
							<li class="fragment">
								deployment<br>
								<span class="aside">mapping from components to hardware</span>
							</li>
						</ul>
					</section>
					<!-- p. 65: discussion on perspectives (structural, functional, deployment)? -->
				</section>
				<section>
					<h4>The Language of Architects</h4>
					<section>
						<div class="def" style="font-size: 0.8em;">
							<p>
								A <em>software component</em> is an architectural entity that
							</p>
							<ol>
								<li><mark>encapsulates</mark> a subset of the system's <mark>functionality</mark> and/or <mark>data</mark>,</li>
								<li>restricts access to that subset via an explicitly defined <mark>interface</mark>, and</li>
								<li>has explicitly defined <mark>dependencies</mark> on its required execution context.</li>
							</ol>
						</div>
						<!-- p. 69 -->
					</section>
					<!-- <section>
						<p>
							Best practices: encapsulation.
						</p>
						<p>
							Difference with SOLID: one component => one (configured) instance
							(vs. one class => multiple instances)
						</p>
					</section> -->
					<section>
						<p>
							Examples of components:
						</p>
						<ul>
							<li class="fragment">a Database Management System (DBMS)</li>
							<li class="fragment">a single Micro-Service</li>
							<li class="fragment">a publish-subscribe broker <span class="aside">[*]</span></li>
						</ul>
					</section>
					<section>
						<p class="def">
							A <em>software connector</em> is an architectural element tasked with
							effecting and <mark>regulating interactions</mark> among components.
						</p>
						<!-- p. 70 -->
					</section>
					<section>
						<p class="def">
							<em>Architectural connectors</em> are a collection of <mark>protocols</mark> that
							characterize each of the <mark>participant roles</mark> in an interaction and how
							these roles interact.
						</p>
						<p class="aside">
							Source: <a href="https://doi.org/10.1145/258077.258078">(Allen, 1997)</a>
						</p>
					</section>
					<section>
						<p>
							Examples of connectors:
						</p>
						<ul>
							<li class="fragment">
								procedure calls<br>
								<span class="aside">RPC, JMI</span>
							</li>
							<li class="fragment">
								event-based exchange<br>
								<span class="aside">WebSocket, Kafka</span>
							</li>
							<li class="fragment">
								data access<br>
								<span class="aside">ODBC, IPFS, BitTorrent</span>
							</li>
							<li class="fragment">
								streaming<br>
								<span class="aside">WebRTC</span>
							</li>
						</ul>
						<!-- <p>
							Procedure call
							Event
							Data access
							(Linkage)
							Stream
							Arbitrator (e.g. semaphores, round-robin -- concurrency management, scheduling and load balancing)
							Adaptor (conversion services)
							Distributor (never exist by themselves -- RPC includes a "distributor")
						</p> -->
						<!-- p. 164: connector types -->
					</section>
					<section>
						<p>
							Connectors are functionality-independent and <mark>reusable</mark>.
						</p>
						<p class="fragment">
							Components aren't.
						</p>
					</section>
					<!-- <section>
						<p>
							UML component diagrams
						</p>
					</section> -->
					<!-- p. 640 -->
					<section>
						<figure>
							<img src="../misc/soft-architecture/connector-implicit.png"><br>
							<img src="../misc/soft-architecture/connector-explicit.png"><br>
							<img src="../misc/soft-architecture/connector-component.png">
							<figcaption>Implicit, explicit and component-based connector definition in UML</figcaption>
						</figure>
						<p class="fragment note">
							The scope of a connector depends on the granularity of the architectural model.
						</p>
					</section>
					<!-- note on difference between software components and hardware components -->
					<!-- illustration with Restbucks: NegaOctet, Référentiel services numériques_v1.0_FR.pdf, p. 9 -->
				</section>
				<section>
					<h4>Styles and Patterns</h4>
					<section>
						<div class="def" style="font-size: 0.8em;">
							<p>
								An <em>architectural style</em> is a named collection of architectural design decisions that
							</p>
							<ol>
								<li>are applicable in a given <mark>development context</mark>,</li>
								<li><mark>constrain</mark> architectural design, and</li>
								<li>elicit <mark>beneficial qualities</mark> in each resulting system.</li>
							</ol>
						</div>
						<!-- p. ? -->
					</section>
					<section>
						<p>
							In short, an architectural style is a set of <mark>constraints on components and connectors</mark>.
						</p>
					</section>
					<section>
						<p>
							Common architectural styles:
						</p>
						<ul>
							<li class="fragment">client-server</li>
							<li class="fragment">microkernel</li>
							<li class="fragment">pipe-and-filter</li>
							<li class="fragment">blackboard</li>
							<li class="fragment">publish-subscribe</li>
							<li class="fragment">peer-to-peer</li>
							<li class="fragment">Service-Oriented Architecture (SOA)</li>
						</ul>
						<!-- p. 101 -->
						<!-- <p>
							Layered: client-server
							(Modular: kernel-based) -- not in Taylor et al. (but described in Richards' "Soft Arch Patterns")
							Dataflow: pipe-and-filter
							Shared memory: blackboard
							Implicit invocation: pub-sub
							SOA?
							P2P?
							Others: CORBA (distributed object), REST (distributed resources)
						</p> -->
						<!-- p. 137 -->
						<!-- hierarchical: cathedral, kernel: bazaar model -->
					</section>
					<section>
						<figure>
							<img src="../misc/soft-architecture/arch-cs.png">
							<figcaption>Client-server style</figcaption>
						</figure>
					</section>
					<section>
						<figure>
							<img src="../misc/soft-architecture/arch-kernel.png">
							<figcaption>Microkernel style</figcaption>
						</figure>
					</section>
					<section>
						<figure>
							<img src="../misc/soft-architecture/arch-pipe-filter.png">
							<figcaption>pipe-and-filter style</figcaption>
						</figure>
					</section>
					<section>
						<figure>
							<img src="../misc/soft-architecture/arch-blackboard.png">
							<figcaption>Blackboard style</figcaption>
						</figure>
					</section>
					<section>
						<figure>
							<img src="../misc/soft-architecture/arch-pub-sub.png">
							<figcaption>Publish-subscribe style</figcaption>
						</figure>
					</section>
					<section>
						<figure>
							<img src="../misc/soft-architecture/arch-p2p.png">
							<figcaption>Peer-to-peer style</figcaption>
						</figure>
					</section>
					<section>
						<figure>
							<img src="../misc/soft-architecture/arch-soa.png">
							<figcaption>SOA style</figcaption>
						</figure>
					</section>
					<section>
						<p>
							Advanced (but also common) architectural styles:
						</p>
						<ul>
							<li class="fragment">
								CORBA<br>
								<span class="aside">Common Object Request Broker Architecture</span>
							</li>
							<li class="fragment">
								REST<br>
								<span class="aside">Representational State Transfer</span>
							</li>
						</ul>
						<!-- p. 133 (CORBA) -->
					</section>
					<section>
						<p class="def" style="font-size: 0.8em;">
							An <em>architectural pattern</em> is a named collection of architectural design decisions that
							are applicable to a <mark>recurring design problem</mark>, <mark>parameterized</mark>
							to account for different software development contexts in which that problem appears.
						</p>
						<!-- p. ? (and 94) -->
					</section>
					<section>
						<p>
							Common architectural patterns:
						</p>
						<ul>
							<li class="fragment">3-tier</li>
							<li class="fragment">Model-View-Controller (MVC)</li>
							<li class="fragment">sense-compute-control</li>
						</ul>
						<!-- p. 94 (starting from) -->
						<!-- <p>
							Difference between C/S style and 3-tier (2-tier) pattern?
							Functional limitation of the pattern. Freedom of use for the style.
							Presentation may be client/it may be server.
						</p> -->
					</section>
					<section>
						<p>
							Patterns are applicable anywhere. Styles aren't.
						</p>
						<p class="fragment">
							Patterns are self-contained. Styles aren't.
						</p>
					</section>
				</section>
				<section>
					<h4>The Example of REST</h4>
					<section>
						<p>
							REST is an architectural style for (highly) <mark>distributed information systems</mark>.
						</p>
						<p class="fragment">
							It is mostly relevant in the presence of multiple actors</mark>,
							within large <mark>organizations</mark>, across organizations or even at a <mark>world-scale</mark>.
						</p>
						<p class="note fragment">
							REST has influenced most of what the Web is now, via HTTP/1.1.
						</p>
					</section>
					<section>
						<figure>
							<img src="../misc/soft-architecture/restbucks-actors.png">
							<img src="../misc/soft-architecture/restbucks-interactions.png">
							<figcaption>Actor of the Restbucks system, "a little coffee shop with global ambitions," and example interactions</figcaption>
						</figure>
						<p class="note fragment">
							The Restbucks example is taken from
							<a href="http://oreilly.com/catalog/9781449394943/">REST in practice: hypermedia and system architecture</a>,
							by Webber, Parastatidis and Robinson (2010). 
						</p>
						<p class="note fragment">
							Authors have worked at Microsoft and Thoughtworks, hence the example.
						</p>
					</section>
					<section>
						<p>
							Restbucks wants:
						</p>
						<ul>
							<li class="fragment">to attract millions of customers (<mark>scalability</mark>),</li>
							<li class="fragment">not to accept orders if they can't be fulfilled (<mark>integrity</mark>) and</li>
							<li class="fragment">to make sure an order is always fulfilled once accepted (<mark>fault-tolerance</mark>).</li>
						</ul>
						<!-- p. 25 -->
					</section>
					<section>
						<table>
							<thead>
								<tr>
									<th>Basic style</th>
									<th>Scalability</th>
									<th>Integrity</th>
									<th>Fault-tolerance</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>Microkernel</td>
									<td>-</td>
									<td>++</td>
									<td>-</td>
								</tr>
								<tr>
									<td>Pipe-and-filter</td>
									<td>++</td>
									<td>-</td>
									<td>+-</td>
								</tr>
								<tr>
									<td>Publish-subscribe</td>
									<td>++</td>
									<td>--</td>
									<td>--</td>
								</tr>
								<tr>
									<td>...</td>
								</tr>
							</tbody>
							<!-- Fieldings: fault-tolerance ~ reliability, integrity not considered -->
							<caption>Analysis of several architectural styles for Restbucks</caption>
						</table>
					</section>
					<section>
						<p>
							A more complex style to better fulfill all requirements is required.
						</p>
						<p class="fragment">
							Complex styles for distributed architectures (CORBA, REST) tend to rely on <mark>operations on remote objects</mark>.
						</p>
						<p class="note fragment">
							Chronologically, REST replaced CORBA (~in 2000).
						</p>
					</section>
					<section>
						<p>
							Objects manipulated by Restbucks are:
						</p>
						<ul>
							<li class="fragment">orders</li>
							<li class="fragment">payments</li>
							<li class="fragment">receipts</li>
						</ul>
					</section>
					<section>
						<p>
							In REST, an object becomes a <mark>Web resource</mark> identified with a URI:
						</p>
						<ul>
							<li class="fragment">https://restbucks.com/<span style="color: brown;">order</span>/1234</li>
							<li class="fragment">https://restbucks.com/<span style="color: brown;">payment</span>/1234</li>
							<li class="fragment">https://restbucks.com/<span style="color: brown;">receipt</span>/1234</li>
						</ul>
					</section>
					<section>
						<p>
							Only <mark>CRUD operations</mark> are available on the resource (create, replace, update, delete).
						</p>
						<p class="fragment">
							Object instantiation is performed as resource creation on a <mark>collection resource</mark>.
						</p>
					</section>
					<section>
						<figure>
							<img src="../misc/soft-architecture/restbucks-protocol.png">
							<figcaption>HTTP requests for the Restbucks ordering service</figcaption>
						</figure>
					</section>
					<section>
						<p>
							The state of the application is <mark>driven by hypermedia</mark>.
						</p>
						<p class="note fragment">
							That is, references to other objects are available to service consumers as Web links.
						</p>
					</section>
					<section>
						<figure>
							<img src="../misc/soft-architecture/restbucks-hypermedia.png">
							<figcaption>HTTP requests for the Restbucks ordering service</figcaption>
						</figure>
					</section>
					<section>
						<p>
							Such a "hypermedia" Restbuck service complies to the REST style.
						</p>
					</section>
					<section>
						<p>
							REST is an architectural style <mark>derived</mark> from simpler styles.
						</p>
						<figure>
							<img src="../misc/soft-architecture/rest-derivation.png">
							<figcaption>REST derivation by style constraints <a href="">(Fielding, 2000)</a></figcaption>
						</figure>
					</section>
					<section>
						<p>
							REST mainly builds upon <mark>6 styles or constraints</mark>:
						</p>
						<ul>
							<li class="fragment">Client-server</li>
							<li class="fragment">Stateless communication</li>
							<li class="fragment">Cache</li>
							<li class="fragment">Uniform interface</li>
							<li class="fragment">Layered system</li>
							<li class="fragment">Code-on-demand</li>
						</ul>
					</section>
					<section data-auto-animate>
						<p class="def" style="font-size: 0.6em;">
							A <mark>server</mark> component listens for requests.
							A <mark>client</mark> component sends a request to the server via a connector.
						</p>
						<figure data-id="rest-derivation" data-auto-animate-duration="0">
							<img src="../misc/soft-architecture/rest-derivation-1.png">
							<figcaption>REST derivation by style constraints (1)</figcaption>
						</figure>
					</section>
					<section data-auto-animate>
						<p class="def" style="font-size: 0.6em;">
							Communication must be <mark>stateless</mark>.
							Each request cannot take advantage of any stored context on the server.
						</p>
						<!-- Session state is therefore kept entirely on the client. -->
						<figure data-id="rest-derivation" data-auto-animate-duration="0">
							<img src="../misc/soft-architecture/rest-derivation-2.png">
							<figcaption>REST derivation by style constraints (2)</figcaption>
						</figure>
					</section>
					<section data-auto-animate>
						<p class="def" style="font-size: 0.6em;">
							The <mark>cache</mark> style requires that the data within a response to a request be labeled as cacheable.
						</p>
						<figure data-id="rest-derivation" data-auto-animate-duration="0">
							<img src="../misc/soft-architecture/rest-derivation-3.png">
							<figcaption>REST derivation by style constraints (3)</figcaption>
						</figure>
					</section>
					<section data-auto-animate>
						<p class="def" style="font-size: 0.6em;">
							Interacting components have a <mark>uniform interface</mark> between each other.
						</p>
						<figure data-id="rest-derivation" data-auto-animate-duration="0">
							<img src="../misc/soft-architecture/rest-derivation-4.png">
							<figcaption>REST derivation by style constraints (4)</figcaption>
						</figure>
					</section>
					<section data-auto-animate>
						<p class="def" style="font-size: 0.6em;">
							Each component cannot "see" <mark>beyond the immediate layer</mark> with which
							it is interacting.
						</p>
						<figure data-id="rest-derivation" data-auto-animate-duration="0">
							<img src="../misc/soft-architecture/rest-derivation-5.png">
							<figcaption>REST derivation by style constraints (5)</figcaption>
						</figure>
					</section>
					<section data-auto-animate>
						<p class="def" style="font-size: 0.6em;">
							Client functionality <em>may</em> be extended by <mark>downloading and executing code</mark> in the form of applets or scripts.
						</p>
						<figure data-id="rest-derivation" data-auto-animate-duration="0">
							<img src="../misc/soft-architecture/rest-derivation-6.png">
							<figcaption>REST derivation by style constraints (6)</figcaption>
						</figure>
					</section>
					<section>
						<p>
							<mark>All constraints are required</mark> for a RESTful architecture.
						</p>
						<figure>
							<img src="../misc/soft-architecture/rest-derivation-all.png">
							<figcaption>REST derivation by style constraints (all)</figcaption>
						</figure>
					</section>
					<section>
						<figure>
							<img src="../misc/soft-architecture/arch-rest.png">
							<figcaption>REST style</figcaption>
						</figure>
					</section>
					<section>
						<table>
							<thead>
								<tr>
									<th>Basic style</th>
									<th>Scalability</th>
									<th>Integrity</th>
									<th>Fault-tolerance</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>Microkernel</td>
									<td>-</td>
									<td>++</td>
									<td>-</td>
								</tr>
								<tr>
									<td>Pipe-and-filter</td>
									<td>++</td>
									<td>-</td>
									<td>+-</td>
								</tr>
								<tr>
									<td>Publish-subscribe</td>
									<td>++</td>
									<td>--</td>
									<td>--</td>
								</tr>
								<tr style="background: moccasin;">
									<td>REST</td>
									<td>++</td>
									<td>++</td>
									<td>++</td>
								</tr>
							</tbody>
							<caption>Analysis of several architectural styles for the Restbucks system (bis)</caption>
						</table>
					</section>
					<!--  also: performance, simplicity, modifiability, visibility, portability -->
					<section>
						<p>
							The <mark>uniform interface</mark> constraint is specific to REST.
						</p>
						<p class="fragment">
							It is best explained in terms of a <mark>"maturity model"</mark>.
						</p>
						<p class="note fragment">
							See also
							<a href="https://www.martinfowler.com/articles/richardsonMaturityModel.html">Martin Fowler's explanation</a>
							on the topic.
						</p>
					</section>
					<!-- TODO move maturity model above (at the Restbucks example) -->
					<section data-auto-animate>
						<p>
							At level 0, no restriction applies to Web services.
						</p>
						<figure data-id="maturity-level" data-auto-animate-duration="0">
							<img src="../misc/soft-architecture/maturity-0.png">
							<figcaption>Maturity level 0</figcaption>
						</figure>
					</section>
					<section data-auto-animate>
						<p>
							At level 1, resources are uniquely identified by a <mark>URI</mark>.
						</p>
						<figure data-id="maturity-level" data-auto-animate-duration="0">
							<img src="../misc/soft-architecture/maturity-1.png">
							<figcaption>Maturity level 1</figcaption>
						</figure>
					</section>
					<section data-auto-animate>
						<p>
							At level 2, resources can be manipulated with <mark>HTTP operations</mark>.
						</p>
						<figure data-id="maturity-level" data-auto-animate-duration="0">
							<img src="../misc/soft-architecture/maturity-2.png">
							<figcaption>Maturity level 2</figcaption>
						</figure>
					</section>
					<section data-auto-animate>
						<p>
							At level 3, available operations are exposed via <mark>hypermedia controls</mark>.
						</p>
						<figure data-id="maturity-level" data-auto-animate-duration="0">
							<img src="../misc/soft-architecture/maturity-3.png">
							<figcaption>Maturity level 3</figcaption>
						</figure>
					</section>
					<section>
						<p>
							A Web API with maturity level 0, 1 or 2 is <em>not</em> RESTful.
						</p>
						<p class="fragment">
							<mark>Maturity level 3</mark> is necessary for Web APIs to be RESTful.
						</p>
						<p class="fragment">
							As a complex architectural style, it is (too) easy to <mark>misuse REST</mark>.
						</p>
					</section>
					<section>
						<p>
							Other examples of misuse of the REST architectural style include:
						</p>
						<ul>
							<li class="fragment">one-page Web applications, e.g. with <a href="https://graphql.org/">GraphQL</a> querying</li>
							<!-- https://goodapi.co/blog/rest-vs-graphql -->
							<li class="fragment">publish-subscribe on the Web, e.g. with <a href="https://www.w3.org/TR/websub/">WebSub</a></li>
						</ul>
						<p class="note fragment">
							Both examples do, however, follow other styles <span class="highlight">at a higher model granularity</span>. 
						</p>
						<!-- GraphQL: layered style, WebSub: publish-subscribe -->
					</section>
				</section>
				<section>
					<h4>Formal Architectural Analysis</h4>
					<section>
						<p>
							In 1997, Allen and Garlan introduced a <mark>formal language</mark> to express architectural models.
							<a href="https://doi.org/10.1145/258077.258078">(Allen, 1997)</a>
						</p>
						<p class="fragment">
							This language is based on <mark>Communicating Sequential Processes</mark> (CSP).
						</p>
					</section>
					<section>
						<figure>
							<img src="../misc/soft-architecture/csp.svg">
							<!-- source: Wikidata-->
							<figcaption>Syntactic constructs of CSP</figcaption>
						</figure>
					</section>
					<!-- <section>
						<p>
							The major differences between local and distributed computing concern the areas of
							<mark>latency</mark>, <mark>memory access</mark>, <mark>partial failure</mark>, and <mark>concurrency</mark>
							<a href="https://link.springer.com/chapter/10.1007%2F3-540-62852-5_6">(Waldo, 1996)</a>
						</p>
					</section> -->
					<section>
						<p>
							The main motivation for a formal architectural language is <mark>formal verification</mark> over complex systems.
						</p>
						<p class="note fragment">
							Complex systems are characterized by a high number of interacting components.
						</p>
					</section>
					<section>
						<figure>
							<img src="../misc/soft-architecture/facebook-integrity.jpg">
							<figcaption>Excerpt of an e-mail sent by a Facebook engineer <a href="https://www.lemonde.fr/pixels/article/2021/10/26/comment-l-algorithme-de-facebook-echappe-au-controle-de-ses-createurs_6099888_4408996.html">(Le Monde, 2021)</a></figcaption>
						</figure>
					</section>
					<section>
						<p>
							REST ensures a certain decoupling between components.
						</p>
						<p class="fragment">
							But concrete implementations are <mark>never bug-free</mark>.
						</p>
					</section>
					<section>
						<p>
							Formal verification has been extensively applied to <mark>hardware design</mark>.
						</p>
						<figure>
							<img src="../misc/soft-architecture/formal-validation.png">
							<figcaption>Different ways to apply formal verification in a design <a href="https://link.springer.com/book/10.1007/978-3-662-10778-2">(Schneider, 2004)</a></figcaption>
						</figure>
					</section>
					<section>
						<p>
							Formal verification may as well be used for <mark>architectural analysis</mark>. 
						</p>
						<p class="fragment">
							System properties to verify are typically:
						</p>
						<ul>
							<li class="fragment">
								<mark>safety</mark> properties<br>
								<span class="aside">to ensure some error <em>never</em> occurs</span>
							</li>
							<li class="fragment">
								<mark>liveness</mark> properties<br>
								<span class="aside">to ensure some action is <em>always</em> performed</span>
							</li>
						</ul>
					</section>
					<section>
						<p>
							Concrete validation languages include:
						</p>
						<ul>
							<li class="fragment">
								<a href="https://en.wikipedia.org/wiki/TLA%2B">TLA<sup>+</sup></a><br>
								<span class="aside">Temporal Logic of Actions (+)</span>
							</li>
							<li class="fragment">
								<a href="https://en.wikipedia.org/wiki/TLA%2B">Promela</a><br>
								<span class="aside">Process Modeling Language</span>
							</li>
						</ul>
					</section>
					<section>
						<p>
							As an example, Amazon Web Services (AWS) has been using TLA<sup>+</sup>.
						</p>
						<figure class="fragment">
							<img src="../misc/soft-architecture/formal-validation-aws.png">
							<figcaption>AWS algorithms verified with TLA<sup>+</sup> and PlusCal, a TLA<sup>+</sup> derivative <a href="https://dl.acm.org/doi/10.1145/2699417">(Newcombe, 2015)</a></figcaption>
						</figure>
					</section>
				</section>
			</div>
		</div>

		<script src="../js/slides.js"></script>
		<script src="../js/slides-code.js"></script>
		<script>
			Reveal.initialize({
				hash: true,
				plugins: [ RevealHighlight ]
			});
		</script>
	</body>
</html>
