<!DOCTYPE html>
<html>
    <head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <title>Introduction √† NoSQL</title>

		<link rel="stylesheet" href="../css/slides-reset.css">
		<link rel="stylesheet" href="../css/slides.css">
		<link rel="stylesheet" href="../css/slides-theme.css" id="theme">
		<link rel="stylesheet" href="../css/slides-code.css" id="highlight-theme">

		<style>
			.reveal .slides section section {
				margin-top: 1.5em; /* margin for upper section title */
			}

			.reveal .slides .note {
				padding: 0.5em;
				font-size: 0.5em;
				color: peru;
				background-color: moccasin;
			}

			.reveal .slides .note .highlight {
				color: brown;
			}
			
			.reveal .slides table {
				font-size: 0.65em;
			}
			
			.reveal .slides table.t {
				font-size: 0.75em;
			}
			
			.reveal .slides table.t th {
				background-color: moccasin;
			}
			
			.reveal .slides table.t td {
				background-color: linen;
			}

            .reveal .slides table.plain {
                border: 0px;
				font-size: 1em;
            }

            .reveal .slides table.plain th {
                text-align: center;
                border: 0px;
            }

            .reveal .slides table.plain td {
                text-align: center;
                border: 0px;
            }

            .reveal .slides table.plain img.thumbnail {
                margin: 20px;
                max-height: 100px;
            }
			
			.reveal .slides .phi {
				text-align: left;
			}
			
			.reveal .slides .sql {
				text-align: left;
			}
			
			.reveal .slides .json {
				text-align: left;
			}
			
			.reveal .slides .cypher {
				text-align: left;
			}
			
			.reveal .slides .gremlin {
				text-align: left;
			}
			
			.reveal .slides .sparql {
				text-align: left;
			}

            .reveal .slides .var {
                color: darkmagenta;
                font-weight: bold;
            }

            .reveal .slides .comment {
                color: lightblue;
            }

            .reveal .slides .param {
                color: lightgray;
            }

            .reveal .slides .string {
                color: peru;
            }

            .reveal .slides .nb {
                color: skyblue;
            }

			.reveal .slides figcaption {
				color: gray;
				font-size: 0.5em;
			}

			.reveal .slides figure img {
				max-height: 8em; /* FIXME should be a percent of total height */
			}

            .reveal .slides caption {
                color: gray;
                font-size: 0.5em;
            }

            .reveal .slides mark {
                background-color: moccasin;
            }
		</style>
    </head>
    <body>
        <div class="reveal">
            <div class="slides">
                <section>
                    <h1>Introduction √† <span style="text-shadow: lightgrey 5px 5px;">No</span>SQL</h1>
                    <p><a href="https://www.vcharpenay.link/">Victor Charpenay</a></p>
                </section>
                <section>
                    <!-- background source: https://www.youtube.com/watch?v=-bpvvOBV-q0 -->
                    <section data-background-image="../misc/nosql-intro/dr-no.png" data-background-opacity="0.25" data-auto-animate>
                        <p>Que veut dire NoSQL ?</p>
                        <ol>
                            <li class="fragment">No structure QL</li>
                            <li class="fragment">Not SQL</li>
                            <li class="fragment">Not only SQL</li>
                            <li class="fragment">New SQL<span style="font-size: 0.5em;"> (en danois)</span></li>
                        </ol>
                    </section>
                    <section data-background-image="../misc/nosql-intro/dr-no.png" data-background-opacity="0.25" data-auto-animate>
                        <p>Que veut dire NoSQL ?</p>
                        <ol>
                            <li>No structure QL</li>
                            <li>Not SQL</li>
                            <li style="text-decoration: underline;">Not only SQL</li>
                            <li>New SQL<span style="font-size: 0.5em;"> (en danois)</span></li>
                        </ol>
                    </section>
                </section>
                <section>
                    <h4>SQL (Rappel)</h4>
                    <section>
                        <p class="fragment">SQL signifie<br><mark>Structured Query Language</mark></p>
                        <p class="fragment">SQL est un langage <mark>d√©claratif</mark> de manipulation de donn√©es <mark>relationnelles</mark>.</p>
                    </section>
                    <section>
                        <p class="sql">
                            CREATE TABLE <span class="param">table</span>(<span class="param">attribut(s)</span>) ;<br><br>
                            INSERT INTO <span class="param">table</span> VALUES <span class="param">tuple</span> ;
                        </p>
                    </section>
                    <section>
                        <table class="t" style="float: left;">
                            <thead>
                                <tr>
                                    <th>Rang</th>
                                    <th>Nom</th>
                                    <th>Taille</th>
                                    <th>Poids</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>#001</td>
                                    <td>Bulbizarre</td>
                                    <td>0.7m</td>
                                    <td>6.9kg</td>
                                </tr>
                                <tr>
                                    <td>#004</td>
                                    <td>Salam√®che</td>
                                    <td>0.6m</td>
                                    <td>8.5kg</td>
                                </tr>
                                <tr>
                                    <td>#007</td>
                                    <td>Carapuce</td>
                                    <td>0.5m</td>
                                    <td>9.0kg</td>
                                </tr>
                                <tr>
                                    <td>#025</td>
                                    <td>Pikachu</td>
                                    <td>0.4m</td>
                                    <td>6.0kg</td>
                                </tr>
                                <tr>
                                    <td>#052</td>
                                    <td>Miaouss</td>
                                    <td>0.4m</td>
                                    <td>4.2kg</td>
                                </tr>
                            </tbody>
                        </table>

                        <table class="t">
                            <thead>
                                <tr>
                                    <th>Rang</th>
                                    <th>Type</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>#001</td>
                                    <td>Plante</td>
                                </tr>
                                <tr>
                                    <td>#001</td>
                                    <td>Poison</td>
                                </tr>
                                <tr>
                                    <td>#004</td>
                                    <td>Feu</td>
                                </tr>
                                <tr>
                                    <td>#007</td>
                                    <td>Eau</td>
                                </tr>
                                <tr>
                                    <td>#025</td>
                                    <td>√âlectrik</td>
                                </tr>
                            </tbody>
                        </table>
                    </section>
                    <section>
                        <p class="phi">
                            <span class="var">Pok√©mon</span> = {<br>
                            &nbsp;&nbsp;(#001, Bulbizarre, 0.7, 6.9),<br>
                            &nbsp;&nbsp;(#004, Salam√®che, 0.6, 8.5),<br>
                            &nbsp;&nbsp;(#007, Carapuce, 0.5, 9.0),<br>
                            &nbsp;&nbsp;(#025, Pikachu, 0.4, 6.0),<br>
                            &nbsp;&nbsp;(#052, Miaouss, 0.4, 4.2)<br>
                            }
                        </p>
                    </section>
                    <section>
                        <p class="sql">
                            SELECT <span class="param">attribut(s)</span><br>
                            FROM <span class="param">table(s)</span><br>
                            WHERE <span class="param">condition(s)</span> ;
                        </p>
                    </section>
                    <section>
                        <p>(Q<sub>1</sub>) Quel est le nom des Pok√©mon de type feu ?</p>
                        <p class="fragment sql">
                            SELECT <span class="var">Nom</span><br>
                            FROM <span class="var">Pok√©mon</span> AS <span class="var">P</span>,<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="var">Pok√©mon Type</span> AS <span class="var">PT</span><br>
                            WHERE <span class="var">P</span>.<span class="var">Rang</span> = <span class="var">PT</span>.<span class="var">Rang</span> AND<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="var">Type</span> = Feu ;
                        </p>
                    </section>
                    <section>
                        <p>Un sch√©ma de base de donn√©es peut √™tre soumis √† des <mark>d√©pendance fonctionnelle</mark>.</p>
                        <p class="fragment">Une <mark>cl√© primaire</mark> est un attribut duquel d√©pend fonctionnellement tous les attributs d'une table.</p>
                    </section>
                    <section>
                        <p>Le rang d'un Pok√©mon d√©termine son nom, sa taille et son poids.</p>
                        <p class="fragment"><span class="var">Rang</span> ‚Üí (<span class="var">Nom</span>, <span class="var">Taille</span>, <span class="var">Poids</span>)</p>
                    </section>
                    <section>
                        <p>Un sch√©ma <mark>normalis√©</mark> garantit l'absence d'incoh√©rences dans les donn√©es.</p>
                    </section>
                    <section>
                        <table class="t">
                            <thead>
                                <tr>
                                    <th>Rang</th>
                                    <th>Nom</th>
                                    <th>Taille</th>
                                    <th>Poids</th>
                                    <th>Type</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>#001</td>
                                    <td>Bulbizarre</td>
                                    <td>0.7m</td>
                                    <td>6.9kg</td>
                                    <td>Plante</td>
                                </tr>
                                <tr>
                                    <td>#001</td>
                                    <td>Bulbizarre</td>
                                    <td>0.7m</td>
                                    <td>6.8kg</td>
                                    <td>Poison</td>
                                </tr>
                                <tr>
                                    <td>#004</td>
                                    <td>Salam√®che</td>
                                    <td>0.6m</td>
                                    <td>8.5kg</td>
                                    <td>Feu</td>
                                </tr>
                                <tr>
                                    <td>#007</td>
                                    <td>Carapuce</td>
                                    <td>0.5m</td>
                                    <td>9.0kg</td>
                                    <td>Eau</td>
                                </tr>
                                <tr>
                                    <td>#025</td>
                                    <td>Pikachu</td>
                                    <td>0.4m</td>
                                    <td>6.0kg</td>
                                    <td>√âlectrik</td>
                                </tr>
                                <tr>
                                    <td>#052</td>
                                    <td>Miaouss</td>
                                    <td>0.4m</td>
                                    <td>4.2kg</td>
                                    <td></td>
                                </tr>
                            </tbody>
                        </table>
                    </section>
                    <section>
                        <p>Avec un sch√©ma <mark>d√©normalis√©</mark>, la table ci-dessus ne respecte pas la d√©pendance fonctionnelle</p>
                        <p><span class="var">Rang</span> ‚Üí <span class="var">Poids</span></p>
                    </section>
                    <section>
                        <p>Le fondement th√©orique d'SQL est l'<mark>alg√®bre relationnelle</mark>.</p>
                        <p class="fragment">Une table (SQL) √©quivaut √† une <mark>relation</mark> en alg√®bre relationnelle.</p>
                    </section>
                    <section>
                        <p>Les (principaux) op√©rateurs alg√©briques autoris√©s sur des relations sont:</p>
                        <ul>
                            <li class="fragment"><mark>s√©lection</mark> (œÉ)</li>
                            <li class="fragment"><mark>projection</mark> (œÄ)</li>
                            <li class="fragment"><mark>jointure</mark> (‚ãà)</li>
                            <li class="fragment"><mark>renommage</mark> (ùõø)</li>
                        </ul>
                    </section>
                    <section>
                        <p>Une requ√™te SQL correspond √† une <mark>op√©ration alg√©brique</mark> sur une ou plusieurs relations.</p>
                        <p class="fragment">
                            Q<sub>1</sub> ‚â° œÄ<sub><span class="var">Nom</span></sub> ( œÉ<sub><span class="var">Type</span> = Feu</sub> ( <span class="var">P</span> ‚ãà <span class="var">PT</span> ) )
                        </p>
                    </section>
                    <section>
                        <p>Une requ√™te peut √™tre optimis√©e gr√¢ce aux <mark>identit√©s alg√©briques</mark> des op√©rateurs.</p>
                        <p class="fragment">
                            œÄ<sub><span class="var">Nom</span></sub> ( œÉ<sub><span class="var">Type</span> = Feu</sub> ( <span class="var">P</span> ‚ãà <span class="var">PT</span> ) )
                            <br>‚Üì<br>
                            œÄ<sub><span class="var">Nom</span></sub> ( <span class="var">P</span> ‚ãà œÉ<sub><span class="var">Type</span> = Feu</sub> ( <span class="var">PT</span> ) )
                        </p>
                    </section>
                    <section>
                        <p>Une requ√™te peut aussi √™tre optimis√©e gr√¢ce √† des <mark>index</mark> sur les tables.</p>
                        <table class="fragment">
                            <thead>
                                <tr>
                                    <th>Type d'index</th>
                                    <th>Complexit√©</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>table de hachage</td>
                                    <td>recherche d'√©l√©ment en O(1)</td>
                                </tr>
                                <tr>
                                    <td>B-arbre</td>
                                    <td>recherche d'√©l√©ment en O(log<sub>2</sub>(n))</td>
                                </tr>
                            </tbody>
                            <caption>Structures d'index et complexit√© pour la recherche d'√©l√©ment</caption>
                        </table>
                    </section>
                </section>
                <section>
                    <h4>Pourquoi "pas seulement" SQL ?</h4>
                    <section>
                        <p>
                            SQL est de loin le langage de requ√™te le plus utilis√© dans les SI.
                            
                        </p>
                        <p class="fragment note">
                            En 2020, <a href="https://en.wikipedia.org/wiki/Oracle_Corporation">Oracle</a> avait un chiffre d'affaire 100 fois plus √©lev√© que <a href="https://en.wikipedia.org/wiki/MongoDB_Inc.">MongoDB</a>, le principal fournisseur de solutions NoSQL.
                        </p>
                    </section>
                    <section>
                        <p>
                            Le mod√®le relationnel est de loin le plus √©tabli en informatique th√©orique.
                        </p>
                        <p class="fragment note">
                            Les travaux <a href="https://en.wikipedia.org/wiki/List_of_important_publications_in_computer_science#Databases">les plus significatifs en base de donn√©es</a> sont ceux de E. F. Codd, le concepteur du mod√®le relationnel.
                        </p>
                    </section>
                    <section>
                        <p>Mais...</p>
                    </section>
                    <section>
                        <figure>
                            <svg style="width: 75%;" version="1.1" viewBox="0 0 1024 683">
                                <image href="../misc/nosql-intro/nosql-debrief-2009.jpg"/>
                                <text class="fragment" style="fill: white; stroke: black; text-align: center; font-weight: bold; font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif; font-size: 80px;">
                                    <tspan x="20" y="120" textLength="800">RELATIONAL DATABASES</tspan>
                                    <tspan x="20" y="200" textLength="800">GIVE YOU TOO MUCH</tspan>
                                </text>
                                <g class="fragment">
                                    <g>
                                        <rect style="fill:white; fill-opacity:0.75;" width="300" height="100" x="30" y="400" />
                                        <image href="../misc/nosql-intro/logo-hbase.png" width="300" height="100" x="30" y="400" />
                                    </g>
                                    <g>
                                        <rect style="fill:white; fill-opacity:0.75;" width="300" height="100" x="360" y="400" />
                                        <image href="../misc/nosql-intro/logo-dynamodb.png" width="300" height="100" x="360" y="400" />
                                    </g>
                                    <g>
                                        <rect style="fill:white; fill-opacity:0.75;" width="300" height="100" x="690" y="400" />
                                        <image href="../misc/nosql-intro/logo-google-cloud.png" width="300" height="100" x="690" y="400" />
                                    </g>
                                    <g>
                                        <rect style="fill:white; fill-opacity:0.75;" width="300" height="100" x="30" y="520" />
                                        <image href="../misc/nosql-intro/logo-couchdb.png" width="300" height="100" x="30" y="520" />
                                    </g>
                                    <g>
                                        <rect style="fill:white; fill-opacity:0.75;" width="300" height="100" x="360" y="520" />
                                        <image href="../misc/nosql-intro/logo-mongodb.png" width="300" height="100" x="360" y="520" />
                                    </g>
                                    <g>
                                        <rect style="fill:white; fill-opacity:0.75;" width="300" height="100" x="690" y="520" />
                                        <image href="../misc/nosql-intro/logo-cassandra.png" width="300" height="100" x="690" y="520" />
                                    </g>
                                </g>
                            </svg>
                            <figcaption><a href="https://web.archive.org/web/20090927183845/http://blog.oskarsson.nu/2009/06/nosql-debrief.html">NoSQL community meeting</a>, San Francisco, 2009</figcaption>
                        </figure>
                    </section>
                    <section>
                        <q>
                            Relational databases force you to <mark>twist your object data</mark> to fit a RDBMS [relational database management system].
                        </q>
                    </section>
                    <section>
                        <q>
                            Web 2.0 companies can take chances and they need <mark>scalability</mark>.
                        </q>
                    </section>
                    <section>
                        <q>
                            Oracle would tell you that with the right degree of hardware and the right configuration, you can achieve the same scalability. But <mark>at what cost</mark>?
                        </q>
                    </section>
                    <section>
                        <p>
                            Les premi√®res bases de donn√©es NoSQL ont √©t√© con√ßues pour √™tre :
                        </p>
                        <ul>
                            <li class="fragment">massivement <mark>distribu√©es</mark></li>
                            <li class="fragment">sur des serveurs <mark>abordables</mark></li>
                            <li class="fragment">et <mark>accessibles √† distance</mark></li>
                        </ul>
                    </section>
                    <section>
                        <p>SQL garantit la coh√©rence des donn√©es (si leur sch√©ma est normalis√©).</p>
                        <p class="fragment">
                            Or, toute base de donn√©es <mark>distribu√©e</mark> ne peut √™tre en m√™me temps<br>
                            <mark>coh√©rente</mark> et <mark>accessible</mark>.
                        </p>
                    </section>
                    <section>
                        <p>
                            C'est le th√©or√®me <b>CAP</b>.
                        </p>
                    </section>
                    <section>
                        <ul>
                            <li>
                                C<span style="color: lightgray;">oh√©rence</span><br>
                                <span style="font-size: 0.5em;">Les donn√©es requ√™t√©es sur une partition ne sont jamais obsol√®tes.</span>
                            </li>
                            <li class="fragment">
                                A<span style="color: lightgray;">ccessibilit√©</span><br>
                                <span style="font-size: 0.5em;">Une requ√™te sur une partition retourne toujours un r√©sultat.</span>
                            </li>
                            <li class="fragment">
                                P<span style="color: lightgray;">artitionnement tol√©rant aux fautes</span><br>
                                <span style="font-size: 0.5em;">Une requ√™te sur une partition retourne parfois une erreur.</span>
                            </li>
                        </ul>
                    </section>
                    <section>
                        <p>
                            Les bases de donn√©es NoSQL utilisent des <mark>sch√©mas d√©normalis√©s</mark> pour garantir un acc√®s rapide et √† distance aux donn√©es.
                        </p>
                    </section>
                    <!-- TODO ACID vs. BASE -->
                    <section>
                        <p>
                            Par extension, d'autres bases de donn√©es ont √©t√© labelis√©es ¬´&nbsp;NoSQL&nbsp;¬ª.
                        </p>
                        <p class="fragment">
                            Ces bases de donn√©es offrent des <mark>langages de requ√™te alternatifs</mark> √† SQL.
                        </p>
                    </section>
                    <section>
                        <p>
                            Plusieurs mod√®les de donn√©es NoSQL (co)existent.
                        </p>
                    </section>
                    <section>
                        <table>
                            <thead>
                                <tr>
                                    <th>D√©f. de NoSQL</th>
                                    <th>Mod√®le de donn√©es</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td rowspan="3">stricte</td>
                                    <td>paire cl√©-valeur</td>
                                </tr>
                                <tr>
                                    <td>document</td>
                                </tr>
                                <tr>
                                    <td>√† colonne extensible (ou ¬´&nbsp;large&nbsp;¬ª)</td>
                                </tr>
                                <tr>
                                    <td rowspan="2">√©tendue</td>
                                    <td>en graphe</td>
                                </tr>
                                <tr>
                                    <td>RDF <span style="font-size: 0.5em;">(Resource Description Framework)</span></td>
                                </tr>
                            </tbody>
                            <caption>Mod√®les de donn√©es NoSQL (d√©finition stricte et √©tendue)</caption>
                        </table>
                    </section>
                    <section>
                        <p>
                            Ces mod√®les permettent chacun des <mark>optimisations</mark> algorithmiques <mark>sp√©cifiques</mark> dans les syst√®mes de gestion (DBMS) associ√©s.
                        </p>
                        <p class="fragment">
                            Ils peuvent cependant √™tre d√©crits selon les termes de l'<mark>alg√®bre relationnelle</mark> d'un point de vue <mark>th√©orique</mark>.
                        </p>
                    </section>
                </section>
                <section>
                    <h4>Le mod√®le ¬´&nbsp;paire cl√©-valeur&nbsp;¬ª</h4>
                    <section>
                        <table class="plain">
                            <thead>
                                <tr>
                                    <!-- <th rowspan="2"></th> -->
                                    <th>
                                        <a href="http://aws.amazon.com/dynamodb/">
                                            <img class="thumbnail" src="../misc/nosql-intro/logo-dynamodb.png">
                                        </a>
                                    </th>
                                    <th>
                                        <a href="https://redis.io/">
                                            <img class="thumbnail" src="../misc/nosql-intro/logo-thumbnail-redis.png">
                                        </a>
                                    </th>
                                    <th>
                                        <a href="https://dbmx.net/tkrzw/">
                                            <img class="thumbnail" src="../misc/nosql-intro/logo-tkrzw.png">
                                        </a>
                                    </th>
                                </tr>
                                <tr>
                                    <th>DynamoDB</th>
                                    <th>Redis</th>
                                    <th>Tkrzw</th>
                                    <!-- Memcached -->
                                    <!-- Oracle BerkeleyDB: https://www.oracle.com/database/technologies/related/berkeleydb.html -->
                                </tr>
                            </thead>
                            <!-- <tbdoy>
                                <tr>
                                    <th>Propri√©taire</th>
                                    <td>Amazon Web Services</td>
                                    <td>Redis Ltd.</td>
                                    <td>M. Hirabayashi <span style="font-size: 0.5em;">(Google)</span></td>
                                </tr>
                                <tr>
                                    <th>Licence</th>
                                    <td>-</td>
                                    <td>BSD</td>
                                    <td>Apache</td>
                                </tr>
                            </tbdoy> -->
                            <caption>Ex. de DBMS pour le mod√®le ¬´&nbsp;paire cl√©-valeur&nbsp;¬ª</caption>
                        </table>
                    </section>
                    <section>
                        <p>
                            Un DBMS ¬´&nbsp;paire cl√©-valeur&nbsp;¬ª ne g√®re qu'<mark>une seule relation</mark>, instance du sch√©ma <mark>{Key, Value}</mark>.
                        </p>
                    </section>
                    <section>
                        <p>
                            <span class="var">KV</span> = {
                                (#001, (Bulbizarre, 0.7, 6.9, {Plante, Poison})),
                                (#004, (Salam√®che, 0.6, 8.5, Feu)),
                                (#007, (Carapuce, 0.5, 9.0, Eau)),
                                (#025, (Pikachu, 0.4, 6.0, √âlectrik)),
                                (#052, (Miaouss, 0.4, 4.2))
                            }
                        </p>
                        <!-- <p>Le sch√©ma du mod√®le cl√©-valeur est le plus simple possible.</p> -->
                        <p class="sql">
                            CREATE TABLE <span class="var">KV</span>(<br>
                            &nbsp;&nbsp;<span class="var">Key</span> BINARY(<span class="param">n</span>),<br>
                            &nbsp;&nbsp;<span class="var">Value</span> BINARY(<span class="param">m</span>),<br>
                            &nbsp;&nbsp;PRIMARY KEY <span class="var">KEY</span><br>
                            ) ;
                        </p>
                        <!-- include versions? -->
                        <!-- key/value is necessarily unique? -->
                    </section>
                    <section>
                        <p>Les seules op√©rations possibles sur la base de donn√©es sont l'√©criture et la lecture de valeurs <mark>par cl√©</mark>.</p>
                    </section>
                    <section>
                        <p class="sql">
                            <span class="comment">-- if first-time insert</span><br>
                            INSERT INTO <span class="var">KV</span> VALUES (<span class="param">key</span>, <span class="param">value</span>) ;
                        </p>
                        <p class="sql">
                            <span class="comment">-- otherwise</span><br>
                            UPDATE <span class="var">KV</span><br>
                            SET <span class="var">Value</span> = <span class="param">value</span> WHERE <span class="var">Key</span> = <span class="param">key</span> ;<br>
                        </p>
                    </section>
                    <section>
                        <p class="sql">
                            SELECT <span class="var">Value</span><br>
                            FROM <span class="var">KV</span><br>
                            WHERE <span class="var">Key</span> = <span class="param">key</span> ;
                        </p>
                        <p class="fragment note">
                            Certains DBMS autorisent aussi des requ√™tes par intervalle :<br><br>
                            <span class="var">Key</span> &gt; <span style="color: gray;">lower_key</span> AND
                            <span class="var">Key</span> &lt; <span style="color: gray;">upper_key</span>
                        </p>
                    </section>
                    <section>
                        <p>L'attribut <span class="var">Key</span> est souvent index√© par une <mark>table de hachage</mark>.</p>
                        <p class="fragment">La table <span class="var">KV</span> peut facilement √™tre partionn√©e <mark>horizontalement</mark> (par ligne).</p>
                    </section>
                    <section>
                        <p>Le mod√®le  ¬´&nbsp;paire cl√©-valeur&nbsp;¬ª permet une <mark>grande vitesse</mark> de lecture/√©criture.</p>
                        <p class=" fragment note">
                            Redis peut par exemple effectuer ~500k lectures/√©critures par seconde sur un serveur classique (voir <a href="https://redis.io/topics/benchmarks#benchmark-results-on-different-virtualized-and-bare-metal-servers">benchmark</a>).
                        </p>
                    </section>
                    <section data-background-color="moccasin">
                        <p>
                            Donnez des exemples d'usages de bases de donn√©es cl√©-valeur.
                        </p>
                    </section>
                    <section>
                        <p>
                            Quelques exemples d'applications sur Amazon.com utilisant DynamoDB sont :
                        </p>
                        <ul>
                            <li class="fragment">le stockage du catalogue de livre</li>
                            <!-- indexation par ISBN -->
                            <li class="fragment">l'enregistrement des pr√©f√©rences d'utilisation</li>
                            <!-- utilisateur¬∑trice d√©j√† identifi√©¬∑e : Nom, Pr√©nom, ID -->
                            <li class="fragment">l'enregistrement des paniers de e-commerce</li>
                            <!-- utilisateur¬∑trice d√©j√† identifi√©¬∑e : session ID -->
                        </ul>
                        <p class="fragment note">
                            ... d'apr√®s un <a href="https://doi.org/10.1145/1323293.1294281">article de DeCandia <em>et al.</em></a> paru en 2007.
                        </p>
                        <!-- https://s3.amazonaws.com/AllThingsDistributed/sosp/amazon-dynamo-sosp2007.pdf -->
                    </section>
                </section>
                <section>
                    <h4>Le mod√®le ¬´&nbsp;document&nbsp;¬ª</h4>
                    <section>
                        <table class="plain">
                            <thead>
                                <tr>
                                    <th>
                                        <a href="http://mongodb.com/">
                                            <img class="thumbnail" src="../misc/nosql-intro/logo-thumbnail-mongodb.png">
                                        </a>
                                    </th>
                                    <th>
                                        <a href="https://couchdb.apache.org/">
                                            <img class="thumbnail" src="../misc/nosql-intro/logo-thumbnail-couchdb.png">
                                        </a>
                                    </th>
                                </tr>
                                <tr>
                                    <th>MongoDB</th>
                                    <th>CouchDB</th>
                                </tr>
                            </thead>
                            <caption>Ex. de DBMS pour le mod√®le ¬´&nbsp;document&nbsp;¬ª</caption>
                        </table>
                    </section>
                    <section>
                        <p>
                            Un document est un ensemble identifi√© de paires cl√©-valeurs (<mark>champs</mark>), chaque cl√© du document √©tant unique.
                        </p>
                        <p class="fragment">
                            Les valeurs des champs sont <mark>typ√©es</mark>.
                        </p>
                    </section>
                    <section>
                        <p class="sql">
                            CREATE TABLE <span class="var">Document</span>(<br>
                                &nbsp;&nbsp;<span class="var">Id</span> BIGINT,<br>
                                &nbsp;&nbsp;<span class="var">Name</span> VARCHAR(<span class="param">n</span>),<br>
                                &nbsp;&nbsp;<span class="var">Value</span> BINARY(<span class="param">m</span>),<br>
                                &nbsp;&nbsp;<span class="var">Type</span> INTEGER,<br>
                                &nbsp;&nbsp;PRIMARY KEY (<span class="var">Id</span>, <span class="var">Name</span>)<br>
                            ) ;
                        </p>
                    </section>
                    <section>
                        <p>
                            √âcrire dans une base de documents se fait √† l'√©chelle du document.
                        </p>
                    </section>
                    <section>
                        <p class="sql">
                            DELETE FROM <span class="var">Document</span> WHERE <span class="var">Id</span> = <span class="param">id</span> ;<br>
                            INSERT INTO <span class="var">Document</span> VALUES (<span class="param">field</span>) ;<br>
                            INSERT INTO <span class="var">Document</span> VALUES (<span class="param">field</span>) ;<br>
                            INSERT INTO <span class="var">Document</span> VALUES (<span class="param">field</span>) ;<br>
                            <span class="comment">-- etc.</span>
                        </p>
                    </section>
                    <section>
                        <p>
                            Dans une paire cl√©/valeur, la valeur est <mark>opaque</mark> (non-interpr√©t√©e par le DBMS).
                        </p>
                        <p class="fragment">
                            Un document peut √™tre requ√™t√© selon <mark>ses valeurs de champs</mark>.
                        </p>
                    </section>
                    <section>
                        <p class="sql">
                            SELECT <span class="var">Id</span><br>
                            FROM <span class="var">Document</span><br>
                            WHERE <span class="var">Name</span> = <span class="param">name</span><br>
                            &nbsp;&nbsp;AND <span class="var">Value</span> = <span class="param">value</span><br>
                            &nbsp;&nbsp;AND <span class="var">Type</span> = <span class="param">type</span> ;
                        </p>
                    </section>
                    <section>
                        <p>
                            En pratique, une base de documents est impl√©ment√© comme une base de donn√©es cl√©-valeur o√π :
                        </p>
                        <ul>
                            <li class="fragment">la <mark>valeur</mark> est un <mark>document</mark>, stock√© dans format binaire d√©riv√© de <mark>JSON</mark></li>
                            <li class="fragment">des <mark>annuaires invers√©s</mark> permettent d'acc√©der aux identifiants √† partir des valeurs de champs</li>
                        </ul>
                    </section>
                    <section>
                        <p class="json">
                            bulbizarre#001 = {<br>
                            &nbsp;&nbsp;<span class="string">"rank"</span>: <span class="nb">1</span>,<br>
                            &nbsp;&nbsp;<span class="string">"name"</span>: <span class="string">"Bulbizarre"</span>,<br>
                            &nbsp;&nbsp;<span class="string">"height"</span>: <span class="nb">0.7</span>,<br>
                            &nbsp;&nbsp;<span class="string">"weight"</span>: <span class="nb">6.9</span>,<br>
                            &nbsp;&nbsp;<span class="string">"type"</span>: [ <span class="string">"plant"</span>, <span class="string">"poison"</span> ]<br>
                            }
                        </p>
                    </section>
                    <section>
                        <p>
                            Les documents sont des donn√©es <mark>semi-structur√©es</mark>.
                        </p>
                        <p class="fragment">
                            Le <mark>sch√©ma d'un document</mark> peut <mark>√©voluer</mark> sans changer l'ensemble du contenu de la base.
                        </p>
                    </section>
                    <section data-auto-animate>
                        <p class="json" data-id="obj">
                            bulbizarre#001 = {<br>
                            &nbsp;&nbsp;<span class="string">"rank"</span>: <span class="nb">1</span>,<br>
                            &nbsp;&nbsp;<span class="string">"name"</span>: <span class="string">"Bulbizarre"</span>,<br>
                            &nbsp;&nbsp;<span class="string">"height"</span>: <span class="nb">0.7</span>,<br>
                            &nbsp;&nbsp;<span class="string">"weight"</span>: <span class="nb">6.9</span>,<br>
                            &nbsp;&nbsp;<span class="string">"type"</span>: [ <span class="string">"plant"</span>, <span class="string">"poison"</span> ]<br>
                            }
                        </p>
                    </section>
                    <section data-auto-animate>
                        <p class="json" data-id="obj">
                            bulbizarre#001 = {<br>
                            &nbsp;&nbsp;<span class="string">"rank"</span>: <span class="nb">1</span>,<br>
                            &nbsp;&nbsp;<span class="string">"name"</span>: <span class="string">"Bulbizarre"</span>,<br>
                            &nbsp;&nbsp;<span class="string">"height"</span>: <span class="nb">0.7</span>,<br>
                            &nbsp;&nbsp;<span class="string">"weight"</span>: <span class="nb">6.9</span>,<br>
                            &nbsp;&nbsp;<span class="string">"type"</span>: [ <span class="string">"plant"</span>, <span class="string">"poison"</span> ],<br>
                            &nbsp;&nbsp;<span style="font-weight: bold;"><span class="string">"chromatic"</span>: true</span><br>
                            }
                        </p>
                    </section>
                    <section>
                        <p>
                            Le mod√®le ¬´&nbsp;document&nbsp;¬ª est un <mark>compromis</mark> entre le mod√®le relationnel (granularit√© des requ√™tes) et le mod√®le ¬´&nbsp;paire cl√©-valeur&nbsp;¬ª (rapidit√© de lecture/√©criture).
                        </p>
                        <p class="fragment">
                            Il est con√ßu pour un acc√®s √† distance des documents, via une <mark>interface Web</mark>.
                        </p>
                    </section>
                    <section data-background-color="moccasin">
                        <p>
                            Donnez des exemples de documents difficiles √† stocker dans une base de donn√©es relationnelle.
                        </p>
                    </section>
                    <section>
                        <p>
                            Exemples de documents&nbsp;:
                        </p>
                        <ul>
                            <li class="fragment">contenu web multim√©dia (tweets avec aper√ßu, vid√©os, infographies, etc.)</li>
                            <!-- https://www.mongodb.com/use-cases/content-management -->
                            <li class="fragment">documents d'entreprise (profils clients, factures, fiches produits, etc.)</li>
                            <!-- https://www.mongodb.com/use-cases/single-view -->
                            <li class="fragment">donn√©es d'objets connect√©s h√©t√©rog√®nes</li>
                            <!-- https://www.mongodb.com/use-cases/internet-of-things -->
                            <!-- https://www.mongodb.com/blog/post/video-toyota-industry-40-creating-smart-factory-moving-from-monolithic-code-base-microservices-mongodb-atlas-microsoft-azure -->
                        </ul>
                        <p class="fragment note">
                            ... d'apr√®s <a href="https://www.mongodb.com/use-cases/"><em>MongoDB use cases</em></a> (<em>Content Management</em>, <em>Single View</em> et <em>Internet of Things</em>).
                        </p>
                    </section>
                </section>
                <section>
                    <h4>Le mod√®le ¬´&nbsp;√† colonne extensible&nbsp;¬ª</h4>
                    <section>
                        <table class="plain">
                            <thead>
                                <tr>
                                    <th>
                                        <a href="https://cloud.google.com/bigtable/">
                                            <img class="thumbnail" src="../misc/nosql-intro/logo-thumbnail-google-cloud.png">
                                        </a>
                                    </th>
                                    <th>
                                        <a href="https://hbase.apache.org/">
                                            <img class="thumbnail" src="../misc/nosql-intro/logo-thumbnail-hbase.png">
                                        </a>
                                    </th>
                                    <th>
                                        <a href="http://cassandra.apache.org/">
                                            <img class="thumbnail" src="../misc/nosql-intro/logo-thumbnail-cassandra.png">
                                        </a>
                                    </th>
                                </tr>
                                <tr>
                                    <th>Bigtable</th>
                                    <th>HBase</th>
                                    <th>Cassandra</th>
                                </tr>
                            </thead>
                            <caption>Ex. de DBMS pour le mod√®le ¬´&nbsp;√† colonne extensible&nbsp;¬ª</caption>
                        </table>
                    </section>
                    <section>
                        <p>
                            Le mod√®le ¬´&nbsp;document&nbsp;¬ª permet d'acc√©der efficacement √† des donn√©es structur√©es <mark>en arbre</mark>.
                        </p>
                    </section>
                    <section>
                        <p class="json">
                            bulbizarre#001 = {<br>
                            &nbsp;&nbsp;<span class="string">"rank"</span>: <span class="nb">1</span>,
                                        <span class="string">"name"</span>: <span class="string">"Bulbizarre"</span>,<br>
                            &nbsp;&nbsp;<span class="string">"evolution"</span>: {<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;<span class="string">"rank"</span>: <span class="nb">2</span>,
                                                    <span class="string">"name"</span>: <span class="string">Herbizarre</span>,<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;<span class="string">"evolution"</span>: {<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">"rank"</span>: <span class="nb">3</span>,
                                                                <span class="string">"name"</span>: <span class="string">Florizarre</span>,<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">"evolution"</span>: null<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;}<br>
                            &nbsp;&nbsp;}<br>
                            }
                        </p>
                    </section>
                    <section>
                        <p>
                            Le mod√®le ¬´&nbsp;√† colonne extensible&nbsp;¬ª conserve la structure de <mark>table</mark>, avec <mark>lignes</mark> et <mark>colonnes</mark>.
                        </p>
                        <p class="fragment">
                            √Ä la diff√©rence du mod√®le relationnel, une ligne peut avoir un <mark>nombre variable de colonnes</mark>.
                        </p>
                    </section>
                    <section>
                        <p class="sql">
                            CREATE TABLE <span class="var">Values</span>(<br>
                            &nbsp;&nbsp;<span class="var">RowId</span> BIGINT,<br>
                            &nbsp;&nbsp;<span class="var">ColumnId</span> VARCHAR(<span class="param">n</span>),<br>
                            &nbsp;&nbsp;<span class="var">Value</span> BINARY(<span class="param">m</span>)<br>
                            &nbsp;&nbsp;PRIMARY KEY (<span class="var">RowId</span>, <span class="var">ColumnId</span>)<br>
                            ) ;<br>
                            <br>
                            CREATE INDEX <span class="var">RowIdx</span> ON <span class="var">RowId</span> ;
                        </p>
                    </section>
                    <section>
                        <p>
                            L'acc√®s aux valeurs se fait d'abord <mark>par ligne</mark>, puis par colonne.
                        </p>
                        <p class="fragment">
                            √âcrire dans une base de donn√©es √† colonne extensible se fait aussi <mark>par ligne</mark>.
                        </p>
                    </section>
                    <section>
                        <p style="width: 120%;" class="sql">
                            DELETE FROM <span class="var">Values</span> WHERE <span class="var">RowId</span> = <span class="param">id</span> ;<br>
                            INSERT INTO <span class="var">Values</span> VALUES (<span class="param">id</span>, <span class="param">c1</span>, <span class="param">v1</span>) ;<br>
                            INSERT INTO <span class="var">Values</span> VALUES (<span class="param">id</span>, <span class="param">c2</span>, <span class="param">v2</span>) ;<br>
                            INSERT INTO <span class="var">Values</span> VALUES (<span class="param">id</span>, <span class="param">c3</span>, <span class="param">v3</span>) ;<br>
                            <span class="comment">-- etc.</span>
                        </p>
                        <!-- correspond √† Cassandra -->
                        <!-- sur Bigtable, en fait : une √©criture se fait par ligne/colonne ; √©critures sur une m√™me ligne isol√©es dans une transaction -->
                    </section>
                    <section>
                        <p>
                            L'acc√®s √† plusieurs colonnes sur une m√™me ligne est limit√© aux <mark>familles de colonnes</mark>.
                        </p>
                    </section>
                    <section>
                        <p>
                            Les deux exemples embl√©matiques du mod√®le ¬´&nbsp;√† colonnes extensibles&nbsp;¬ª sont:
                        </p>
                        <ul>
                            <li class="fragment"><em>(Google)</em> la gestion des hyperliens de pages HTML</li>
                            <!-- column families: content, anchors -->
                            <li class="fragment"><em>(Facebook)</em> la recherche de messages dans un historique de conversations</li>
                            <!-- column families: term (for search), interactions -->
                        </ul>
                    </section>
                    <section data-background-color="moccasin">
                        <p>
                            Proposez un sch√©ma √† colonnes extensibles pour les deux exemples pr√©c√©dents.
                        </p>
                    </section>
                    <section>
                        <p>Sch√©mas choisis par Google et Facebook&nbsp;:</p>
                        <ul>
                            <li class="fragment"><em>(Google)</em> deux familles de colonnes : contenu textuel, <em>anchor</em></li>
                            <li class="fragment"><em>(Facebook)</em> deux familles de colonnes : terme, destinataires</li>
                            <!-- https://www.cs.cornell.edu/projects/ladis2009/papers/lakshman-ladis2009.pdf -->
                        </ul>
                        <p class="fragment note">
                            ... d'apr√®s des articles <a href="https://doi.org/10.1145/1365815.1365816">Chang <em>et al.</em></a> (2008) et <a href="https://doi.org/10.1145/1773912.1773922">Lakshman &amp; Malik</a> (2009).
                        </p>
                    </section>
                    <!-- TODO SQL pour requ√™ter avec le mod√®le wide column ? -->
                </section>
                <section>
                    <h4>Le mod√®le ¬´&nbsp;en graphe&nbsp;¬ª</h4>
                    <section>
                        <table class="plain">
                            <thead>
                                <tr>
                                    <th>
                                        <a href="https://neo4j.com/">
                                            <img class="thumbnail" src="../misc/nosql-intro/logo-neo4j.png">
                                        </a>
                                    </th>
                                    <th>
                                        <a href="http://tinkerpop.apache.org/">
                                            <img class="thumbnail" src="../misc/nosql-intro/logo-thumbnail-tinkerpop.png">
                                        </a>
                                    </th>
                                </tr>
                                <tr>
                                    <th>Neo4j</th>
                                    <th>TinkerPop<sup><a href="#/hybrid-dbms/0">*</a></sup></th>
                                </tr>
                            </thead>
                            <caption>Ex. de DBMS pour le mod√®le ¬´&nbsp;en graphe&nbsp;¬ª</caption>
                        </table>
                    </section>
                    <section>
                        <p>
                            SQL est un langage <mark>expressif</mark> et pour lequel la recherche de solution est <mark>polynomiale</mark>.
                        </p>
                        <p class="fragment">
                            Mais il ne <mark>peut pas exprimer</mark> toutes les requ√™tes possibles sur des donn√©es relationnelles.
                        </p>
                    </section>
                    <section>
                        <p>
                            Par exemple, SQL ne peut pas exprimer une <mark>recherche de chemin</mark> entre un point A et un point B.
                        </p>
                        <p class="fragment note">
                            L'exemple est donn√© par Serge Abiteboul dans sa <a href="https://www.college-de-france.fr/site/serge-abiteboul/inaugural-lecture-2012-03-08-18h00.htm">le√ßon inaugurale</a> de 2011 au Coll√®ge de France (21').
                        </p>
                    </section>
                    <section>
                        <p>
                            Les bases de donn√©es ¬´&nbsp;en graphe&nbsp;¬ª cherchent √† la fois&nbsp;:
                        </p>
                        <ul>
                            <li class="fragment">√† proposer de <mark>nouveaux langages</mark> de requ√™te pour le parcours de graphes</li>
                            <li class="fragment">√† d√©finir des <mark>structures de donn√©es optimis√©es</mark> pour ces langages</li>
                        </ul>
                    </section>
                    <section>
                        <p class="sql">
                            CREATE TABLE <span class="var">Node</span>(<br>
                            &nbsp;&nbsp;<span class="var">Id</span> BIGINT,<br>
                            &nbsp;&nbsp;<span class="var">Label</span> VARCHAR(n),<br>
                            &nbsp;&nbsp;PRIMARY KEY <span class="var">Id</span><br>
                            ) ;<br>
                            <br>
                            CREATE TABLE <span class="var">Edge</span>(<br>
                            &nbsp;&nbsp;<span class="comment">-- m√™me sch√©ma</span><br>
                            ) ;
                        </p>
                    </section>
                    <section>
                        <p class="sql" style="width: 120%;">
                            CREATE TABLE <span class="var">NodeProperty</span>(<br>
                            &nbsp;&nbsp;<span class="var">Id</span> BIGINT,<br>
                            &nbsp;&nbsp;<span class="var">Name</span> VARCHAR(<span class="param">n</span>),<br>
                            &nbsp;&nbsp;<span class="var">Value</span> VARCHAR(<span class="param">m</span>),<br>
                            &nbsp;&nbsp;PRIMARY KEY (<span class="var">Id</span>, <span class="var">Name</span>)<br>
                            ) ;<br>
                            <br>
                            CREATE TABLE <span class="var">EdgeProperty</span>(<br>
                            &nbsp;&nbsp;<span class="comment">-- m√™me sch√©ma</span><br>
                            ) ;
                        </p>
                    </section>
                    <section>
                        <p class="sql" style="width: 120%;">
                            CREATE TABLE <span class="var">Relationship</span>(<br>
                            &nbsp;&nbsp;<span class="var">SourceId</span> BIGINT,<br>
                            &nbsp;&nbsp;<span class="var">EdgeId</span> BIGINT,<br>
                            &nbsp;&nbsp;<span class="var">TargetId</span> BIGINT,<br>
                            &nbsp;&nbsp;PRIMARY KEY (<span class="var">SourceId</span>, <span class="var">EdgeId</span>, <span class="var">TargetId</span>)<br>
                            ) ;
                        </p>
                    </section>
                    <section>
                        <p>L'√©criture peut se faire par n≈ìud ou par ar√™te.</p>
                    </section>
                    <section>
                        <p>Deux familles distinctes de langages de requ√™te existent&nbsp;: langages <mark>d√©claratifs</mark> et langages <mark>prod√©duraux</mark>.</p>
                        <table class="fragment">
                            <thead>
                                <tr>
                                    <th>Langage</th>
                                    <th>DBMS</th>
                                    <th>Famille(s)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><a href="https://neo4j.com/docs/cypher-refcard/current/">Cypher</a></td>
                                    <td>Neo4j</td>
                                    <td>d√©claratif</td>
                                </tr>
                                <tr>
                                    <td><a href="http://tinkerpop.apache.org/gremlin.html">Gremlin</a></td>
                                    <td>TinkerPop</td>
                                    <td>proc√©dural(, d√©claratif)</td>
                                </tr>
                            </tbody>
                            <caption>Langages principaux de requ√™tes sur des donn√©es en graphe</caption>
                        </table>
                        <p class="fragment note">
                            Avant qu'SQL ne domine progressivement, il existait la m√™me opposition entre SQL et des langages proc√©duraux.
                        </p>
                    </section>
                    <section>
                        <p>
                            Cypher permet de sp√©cifier les <mark>chemins</mark> d'un graphe comme des <mark>expressions r√©guli√®res</mark>.
                        </p>
                    </section>
                    <section>
                        <p class="cypher">
                            MATCH<br>
                            (<span class="param">source</span>)-[<span class="param">rel</span>]->(<span class="param">cible</span>) ;
                        </p>
                    </section>
                    <section>
                        <p>(Q<sub>2</sub>) Quels sont les champions Pok√©mon de la r√©gion de Kanto ?</p>
                        <p class="fragment cypher">
                            MATCH<br>
                            (gymLeader:<span class="var">GymLeader</span>)<br>
                            &nbsp;&nbsp;-[:<span class="var">leads</span>]->()<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;-[:<span class="var">locatedIn</span>*]->({id: <span class="string">"kanto"</span>}) ;
                        </p>
                        <!-- TODO exemple Pok√©mon ? Localisation des Pok√©mon sur la carte pour un calcul de distance ? -->
                    </section>
                    <section>
                        <p>
                            Gremlin (dans sa forme proc√©durale) permet de sp√©cifier un chemin comme une <mark>s√©rie d'instructions</mark> de navigation d'un n≈ìud √† l'autre.
                        </p>
                    </section>
                    <section>
                        <p>(Q<sub>2</sub>)</p>
                        <p class=" fragment gremlin">
                            g.V().has(<span class="string">"type"</span>, "GymLeader")<br>
                            &nbsp;&nbsp;.out(<span class="string">"leads"</span>)<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;.repeat(__.out(<span class="string">"locatedIn"</span>))<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;.has(<span class="string">"id"</span>, <span class="string">"kanto"</span>)<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;.emit()
                        </p>
                    </section>
                    <section>
                        <p>
                            Exemples de graphes :
                        </p>
                        <ul>
                            <li class="fragment">r√©seau social</li>
                            <li class="fragment">donn√©es g√©o-spatiales</li>
                            <li class="fragment">graphes de connaissance</li>
                        </ul>
                    </section>
                </section>
                <section>
                    <h4>Le mod√®le ¬´&nbsp;RDF&nbsp;¬ª</h4>
                    <section>
                        <table class="plain">
                            <thead>
                                <tr>
                                    <th>
                                        <a href="https://jena.apache.org/documentation/fuseki2/index.html/">
                                            <img class="thumbnail" src="../misc/nosql-intro/logo-thumbnail-jena.png">
                                        </a>
                                    </th>
                                    <th>
                                        <a href="https://graphdb.ontotext.com/">
                                            <img class="thumbnail" src="../misc/nosql-intro/logo-thumbnail-graphdb.png">
                                        </a>
                                    </th>
                                    <th>
                                        <a href="https://www.stardog.com/">
                                            <img class="thumbnail" src="../misc/nosql-intro/logo-thumbnail-stardog.png">
                                        </a>
                                    </th>
                                </tr>
                                <tr>
                                    <th>Fuseki</th>
                                    <th>GraphDB</th>
                                    <th>Stardog</th>
                                </tr>
                            </thead>
                            <caption>Ex. de DBMS pour le mod√®le ¬´&nbsp;RDF&nbsp;¬ª</caption>
                        </table>
                    </section>
                    <section>
                        <p>
                            Les ar√™tes d'un graphe sont parfois interd√©pendantes et/ou implicites.
                        </p>
                        <p class="fragment">
                            Par exemple, la relation g√©o-spatiale <span style="font-weight: bold; font-style: italic;">locatedIn</span> est <mark>transitive</mark>.
                        </p>
                        <p class="fragment">
                            C'est aussi l'<mark>inverse</mark> de la relation <span style="font-weight: bold; font-style: italic;">containsPlace</span>.
                        </p>
                    </section>
                    <section>
                        <p>
                            Le mod√®le ¬´&nbsp;RDF&nbsp;¬ª est con√ßu pour int√©grer une couche <mark>s√©mantique</mark> aux bases de donn√©es en graphe.
                        </p>
                        <p class="fragment">
                            RDF, acronyme pour <em>Resource Description Framework</em> permet surtout de d√©crire la s√©mantique de <mark>ressources web</mark>.
                        </p>
                    </section>
                    <section>
                        <p class="sql" style="width: 120%;">
                            CREATE TABLE <span class="var">Triple</span>(<br>
                            &nbsp;&nbsp;<span class="var">Subject</span> VARCHAR(<span class="param">n</span>),<br>
                            &nbsp;&nbsp;<span class="var">Predicate</span> VARCHAR(<span class="param">n</span>),<br>
                            &nbsp;&nbsp;<span class="var">Object</span> VARCHAR(<span class="param">n</span>),<br>
                            &nbsp;&nbsp;PRIMARY KEY (<span class="var">Subject</span>, <span class="var">Predicate</span>, <span class="var">Object</span>)<br>
                            ) ;
                        </p>
                        <!-- TODO prendre en compte les node types et datatype/lang -->
                    </section>
                    <section>
                        <p class="sql">
                            INSERT INTO <span class="var">Triple</span> VALUES (<span class="param">s</span>, <span class="param">p</span>, <span class="param">o</span>) ;
                        </p>
                    </section>
                    <section>
                        <p>
                            Les requ√™tes sur une base de donn√©es RDF s'expriment avec le langage <mark>SPARQL</mark>.
                        </p>
                        <p class="fragment">
                            SPARQL est un <mark>langage d√©claratif</mark>, plus <mark>g√©n√©rique</mark> que SQL.
                        </p>
                        <p class="fragment note">
                            Toute requ√™te SQL peut s'exprimer en SPARQL mais SPARQL supporte aussi des expressions r√©guli√®res. 
                        </p>
                    </section>
                    <section>
                        <p>(Q<sub>2</sub>)</p>
                        <p class="fragment sparql">
                            SELECT ?gymLeader<span class="var"></span> WHERE {<br>
                            &nbsp;&nbsp;?gymLeader <span class="string">a</span> <span class="var">:Trainer</span> .<br>
                            &nbsp;&nbsp;?gymLeader <span class="var">:leads</span> ?gym .<br>
                            &nbsp;&nbsp;?gym <span class="var">:locatedIn</span> &lt;kanto&gt; .<br>
                            }
                        </p>
                    </section>
                    <section>
                        <p>
                            Exemples de jeux de donn√©es RDF :
                        </p>
                        <ul>
                            <li class="fragment">le <a href="https://www.lod-cloud.net/"><em>Linked Open Data Cloud</em></a></li>
                            <li class="fragment">les biblioth√®ques num√©riques</li>
                            <li class="fragment">les graphes de connaissances</li>
                        </ul>
                    </section>
                </section>
                <section>
                    <h4>Extensions des mod√®les NoSQL</h4>
                    <section>
                        <p>
                            Les mod√®les de donn√©es NoSQL sont performants mais <mark>sp√©cialis√©s</mark>.
                        </p>
                        <p class="fragment">
                            Certains DBMS recherchent la <mark>g√©n√©ricit√©</mark> du mod√®le relationnel en adoptant des <mark>mod√®les hybrides</mark>.
                        </p>
                    </section>
                    <section id="hybrid-dbms">
                        <table style="font-size: 0.5em;">
                            <thead>
                                <tr>
                                    <th rowspan="2">Mod√®le de donn√©es</th>
                                    <th colspan="5">DBMS</th>
                                </tr>
                                <tr>
                                    <td><a href="https://orientdb.org/">OrientDB</a></td>
                                    <td><a href="https://tinkerpop.apache.org/">TinkerPop</a></td>
                                    <td><a href="https://allegrograph.com/">AllegroGraph</a></td>
                                    <td><a href="https://aws.amazon.com/fr/neptune/">Neptune</a></td>
                                    <td><a href="https://virtuoso.openlinksw.com/">Virtuoso</a></td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>paire cl√©-valeur</td>
                                    <td>‚úì</td>
                                    <td>‚úì</td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>document</td>
                                    <td>‚úì</td>
                                    <td>(‚úì)</td>
                                    <td>‚úì</td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>√† colonne ext.</td>
                                    <td></td>
                                    <td>‚úì</td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>en graphe</td>
                                    <td>‚úì</td>
                                    <td>‚úì</td>
                                    <td></td>
                                    <td>‚úì</td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>RDF</td>
                                    <td></td>
                                    <td>‚úì</td>
                                    <td>‚úì</td>
                                    <td>‚úì</td>
                                    <td>‚úì</td>
                                </tr>
                                <tr>
                                    <td>relationnel</td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td>‚úì</td>
                                </tr>
                            </tbody>
                            <caption style="font-size: 1em;">Ex. de DBMS avec mod√®le de donn√©es hybrides</caption>
                        </table>
                        <p class="note fragment">
                            TinkerPop n'est pas un pur DBMS. C'est un <em>midldleware</em> faisant le lien entre un langage de requ√™te (Gremlin) et un DBMS (voir <a href="https://tinkerpop.apache.org/#graph-systems">liste</a>).
                        </p>
                    </section>
                    <section>
                        <p>
                            Une partie des DBMS incluent aussi un <mark>mod√®le temporel</mark>.
                        </p>
                        <p class="fragment">
                            Une unit√© de donn√©es (paire cl√©-valeur, document, cellule) peut √™tre associ√©e √† un <mark>num√©ro de version</mark>.
                        </p>
                    </section>
                </section>
                <section>
                    <h4>R√©sum√©</h4>
                    <section data-background-color="moccasin">
                        <p>
                            D√©finissez NoSQL en 5 points.
                        </p>
                    </section>
                    <section>
                        <ol style="font-size: 0.75em;">
                            <li class="fragment">une base de donn√©es NoSQL utilise souvent un sch√©ma d√©normalis√©.</li>
                            <li class="fragment">la d√©finition stricte de NoSQL s'appuie sur 3 points: parall√©lisme, faible co√ªt mat√©riel, acc√®s distant.</li>
                            <li class="fragment">les 3 principaux mod√®les NoSQL sont: cl√©-valeur, document, colonne extensible.</li>
                            <li class="fragment">la d√©finition s'√©tend aussi aux bases de donn√©es en graphe et RDF.</li>
                            <li class="fragment">les mod√®les NoSQL peuvent se combiner.</li>
                        </ol>
                    </section>
                </section>
                <section>
                    <h4>Pour aller plus loin...</h4>
                    <section>
                        <ul style="font-size: 0.5em;">
                            <li>Eric Lai (2009), <a href="https://www.computerworld.com/article/2526317/no-to-sql--anti-database-movement-gains-steam.html">"No to SQL? Anti-database movement gains steam</a>," Computerworld, IDG Commmunications.</li>
                            <li>Ben Scofield (2010), <a href="https://www.slideshare.net/bscofield/nosql-codemash-2010/">"NoSQL: Death to Relational Databases(?)</a>," <em>present√© √†</em> CodeMash 2010.</li>
                            <li>Christof Strauch (2011), <a>NoSQL Databases</a>, Hochschule der Medien Stuttgart.</li>
                            <li>Seth Gilbert and Nancy Lynch (2002), <a href="https://dl.acm.org/doi/abs/10.1145/564585.564601">"Brewer's conjecture and the feasibility of consistent, available, partition-tolerant web services</a>," ACM SIGACT News.</li>
                            
                        </ul>
                    </section>
                </section>
                <section>
                    <h4>Pour aller <em>encore</em> plus loin...</h4>
                    <section>
                        <ul style="font-size: 0.5em;">
                            <li>Serge Abiteboul (2011), <a href="https://www.college-de-france.fr/site/serge-abiteboul/inaugural-lecture-2012-03-08-18h00.htm">Sciences des donn√©es&nbsp;: de la Logique du premier ordre √† la Toile</a></li>
                            <!-- contextualise l'√©volution d'SQL pour le web... et l'√©mergence de besoins fonctionnels pour NoSQL -->
                            <li>John F. Sowa (2007), <a href="https://ieeexplore.ieee.org/document/4136864">"Fads and Fallacies about Logic</a>," IEEE Intelligent Systems.</li>
                            <!-- discute SQL comme langage... universel. NoSQL int√©ressant th√©oriquement ? -->
                        </ul>
                    </section>
                </section>
            </div>
        </div>

		<script src="../js/slides.js"></script>
		<script src="../js/slides-code.js"></script>
		<script>
			Reveal.initialize({
				hash: true,
				plugins: [ RevealHighlight ]
			});
		</script>
    </body>
</html>